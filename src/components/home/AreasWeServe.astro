---
const melbImg =
  "https://images.unsplash.com/photo-1514395462725-fb4566210144?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80";

import SmartImage from "../SmartImage.astro";

const areas = [
  "Melbourne CBD",
  "South Melbourne",
  "Richmond",
  "Docklands",
  "St Kilda",
  "Port Melbourne",
  "Southbank",
  "Carlton",
  "Fitzroy",
  "Collingwood",
  "Prahran",
  "Toorak",
];
---

<section class="areas-section">
  <div class="gcc-container">
    <div class="split-layout">
      <!-- Left Column: Content -->
      <div class="content-col">
        <h2 class="section-title">Areas We Serve</h2>
        <p class="section-desc">
          We provide commercial cleaning services across Melbourne CBD, South
          Melbourne, Richmond, Docklands, St Kilda, Port Melbourne, and
          surrounding suburbs.
        </p>

        <div class="suburb-list">
          {
            areas.map((area) => (
              <a
                href={`${import.meta.env.BASE_URL}/areas/${area.toLowerCase().replace(/\s+/g, "-")}`}
                class="suburb-link"
              >
                {area}
              </a>
            ))
          }
        </div>
      </div>

      <!-- Right Column: Image -->
      <div class="image-col">
        <SmartImage
          name="areas_melbourne"
          alt="Melbourne skyline"
          loading="lazy"
          width={800}
          height={600}
          sizes="(max-width: 900px) 100vw, 50vw"
        />
        <div class="gradient-overlay"></div>
      </div>
    </div>
  </div>
</section>

<style>
  .areas-section {
    padding: 2rem 0; /* Compact padding */
    background-color: #f8fafc;
    overflow: hidden;
  }

  .split-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    align-items: center;
  }

  /* --- Left Column --- */
  .section-title {
    font-family: "Montserrat", sans-serif;
    font-size: 2.5rem;
    font-weight: 800;
    color: var(--brand-dark);
    margin-bottom: 1rem;
    line-height: 1.2;
  }

  .section-desc {
    font-size: 1.1rem;
    color: var(--text-muted);
    line-height: 1.6;
    margin-bottom: 2rem;
    max-width: 90%;
  }

  .suburb-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .suburb-link {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.08);
    border-radius: 99px;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--brand-dark);
    text-decoration: none;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
  }

  .suburb-link:hover {
    background: var(--brand-green);
    color: white;
    border-color: var(--brand-green);
    transform: translateY(-2px);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }

  /* --- Right Column --- */
  .image-col {
    position: relative;
    border-radius: 2rem;
    overflow: hidden;
    box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.1);
    aspect-ratio: 4/3;
  }

  .image-col img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: transform 0.7s ease;
  }

  .image-col:hover img {
    transform: scale(1.05);
  }

  .gradient-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0));
    pointer-events: none;
  }

  /* --- Mobile --- */
  @media (max-width: 900px) {
    .areas-section {
      padding: 3rem 0;
    }

    .split-layout {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }

    .section-title {
      font-size: 2rem;
    }

    .image-col {
      order: -1; /* Image first on mobile? Or keep logical flow (content first)? 
                    Requests says "Left column: list, Right column: image, stacked on mobile."
                    Usually "Left" becomes "Top" in stack unless reordered. 
                    Let's keep natural order: Content then Image.
                 */
      order: 0;
      aspect-ratio: 16/9;
      border-radius: 1.5rem;
    }

    .section-desc {
      max-width: 100%;
    }
  }
</style>
