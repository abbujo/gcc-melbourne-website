---
type Variant = "primary" | "outline";
type Tone = "light" | "dark";

type Props = {
  href: string;
  label: string;
  variant?: Variant;
  tone?: Tone; // NEW: use "dark" when button is on dark background
  icon?: "phone" | "quote" | "arrow-right";
  hideOnMobile?: boolean;
  class?: string;
};

const {
  href,
  label,
  variant = "primary",
  tone = "light",
  icon,
  hideOnMobile = false,
  class: className,
} = Astro.props;

const classes = [
  "gcc-btn",
  variant === "primary" ? "gcc-btn-primary" : "gcc-btn-outline",
  tone === "dark" ? "gcc-btn-on-dark" : "",
  hideOnMobile ? "hidden md:inline-flex" : "",
  className,
]
  .filter(Boolean)
  .join(" ");
---

<a href={href} class={classes}>
  {
    icon === "phone" && (
      <svg
        class="gcc-icon"
        viewBox="0 0 24 24"
        aria-hidden="true"
        fill="currentColor"
      >
        <path d="M22 16.9v3a2 2 0 0 1-2.2 2c-9.2-.8-16.6-8.2-17.4-17.4A2 2 0 0 1 4.4 2h3a2 2 0 0 1 2 1.7l.5 3a2 2 0 0 1-.6 1.8L7.8 10a14 14 0 0 0 6.2 6.2l1.5-1.5a2 2 0 0 1 1.8-.6l3 .5a2 2 0 0 1 1.7 2z" />
      </svg>
    )
  }

  {
    icon === "quote" && (
      <svg
        class="gcc-icon"
        viewBox="0 0 24 24"
        aria-hidden="true"
        fill="currentColor"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M6 2.5C4.619 2.5 3.5 3.619 3.5 5v16c0 1.381 1.119 2.5 2.5 2.5h12c1.381 0 2.5-1.119 2.5-2.5V9.2c0-.53-.21-1.039-.586-1.414l-4.7-4.7A2 2 0 0 0 15.8 2.5H6zm9.3 1.95V8.2c0 .552.448 1 1 1h3.75l-4.75-4.75zM9.3 10.8c-1.55.85-2.3 2.05-2.3 3.75V17h4.1v-2.05H9.15v-.35c0-.7.4-1.25 1.25-1.7l.75-.4-.85-1.4zM14.7 10.8c-1.55.85-2.3 2.05-2.3 3.75V17h4.1v-2.05h-1.85v-.35c0-.7.4-1.25 1.25-1.7l.75-.4-.85-1.4z"
        />
      </svg>
    )
  }

  {
    icon === "arrow-right" && (
      <svg
        class="gcc-icon"
        viewBox="0 0 24 24"
        aria-hidden="true"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <line x1="5" y1="12" x2="19" y2="12" />
        <polyline points="12 5 19 12 12 19" />
      </svg>
    )
  }

  <span>{label}</span>
</a>
